<section>
  <div class="container-fluid g-0 main">
    <div class="row g-0">
      <app-google-map [trackingData]="trackingData"></app-google-map>
    </div>
    <div class="container g-0 py-4" >
      <div class="row g-0">
        <div class="col-6 px-4 border-left">
          @for (list of trackingData; track $index) {
          <div class="d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
              <nz-avatar
                [nzShape]="'square'"
                [nzSize]="64"
                [nzSrc]="list?.ShopImage"
              ></nz-avatar>
              <h5 class="ms-2" style="color: var(--orange)">
                {{ list?.StoreName }}
              </h5>
            </div>
            <!-- <div>
              <i class="bi bi-cart3"></i>
            </div> -->
          </div>
          <hr />
          <ul>
            @for (detail of orderDetail ; track $index) {
            <li class="mt-3">
              <div class="d-flex align-items-center">
                <span>{{ detail?.Quantity }}x</span>
                <div class="ms-3">
                  <p style="color: var(--orange); font-size: 16px">
                    <b>{{ detail?.Name | titlecase }}</b>
                  </p>
                  @if(detail?.DealItems ){ @for (x of detail?.DealItems ; track
                  $index) { @for (y of x.SubMenu ; track $index) {

                  <div class="d-flex flex-column">
                    <span>{{ y.Name }}</span>
                  </div>
                  } } }
                </div>
              </div>
            </li>
            }
          </ul>
          <hr />
          @for (bill of list?.BillDetail; track $index) {
          <div class="d-flex align-items-center justify-content-between">
            <p><b>SubTotal</b></p>
            <span>{{ list?.Currency }} {{ bill?.SubTotal }}</span>
          </div>
          <div class="d-flex align-items-center justify-content-between mt-2">
            <p><b>Tax</b></p>
            <span>{{ list?.Currency }} {{ list?.Tax }}</span>
          </div>
          }
          <button
            class="btn btn-primary d-flex align-items-center justify-content-between mt-4"
          >
            <p><b>Total</b></p>
            <p>
              <b>{{ list?.Currency }} {{ list?.TotalBill }}</b>
            </p>
          </button>
          }
        </div>
        <div class="col-6 px-4 d-flex flex-column align-items-center  " >
          <h2 style="color: var(--orange);">THANKS FOR ORDER!</h2>
          <span style="display: block">Order Time: 42638746273</span>
          <span style="display: block">Order #: 42638746273</span>
          <!-- ----------Timeline------------ -->
          <div class="stepper">
            <div
              class="step"
              [ngStyle]="
                currentStep === 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            >
              <i class="bi bi-check2"></i>
              <p>
                Order <br />
                Placed
              </p>
            </div>
            <div
              class="progress-bar"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            ></div>
            <div
              class="step"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            >
              <i class="bi bi-check2-all"></i>
              <p>
                Order <br />
                Confirmed
              </p>
            </div>
            <div
              class="progress-bar"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            ></div>
            <div
              class="step"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            >
              <i class="bi bi-box"></i>
              <p>
                Assigned <br />
                To Rider
              </p>
            </div>
            <div
              class="progress-bar"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            ></div>
            <div
              class="step"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            >
              <i class="bi bi-bicycle"></i>
              <p>
                Order <br />
                Picked
              </p>
            </div>
            <div
              class="progress-bar"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            ></div>
            <div
              class="step"
              [ngStyle]="
                currentStep !== 1
                  ? { 'background-color': 'var(--orange)' }
                  : { 'background-color': 'rgb(207, 207, 207)' }
              "
            >
              <i class="bi bi-geo-alt"></i>
              <p>
                Order <br />
                Delivered
              </p>
            </div>
          </div>
          <hr />
          <img
            routerLink=""
            width="200"
            src="assets\images\logo.png"
            style="cursor: pointer"
          />
        </div>
      </div>
    </div>
  </div>
</section>
