<section>
  <div class="container-fluid g-0 authentication">
    <div class="row g-0">
      <div class="col-6">
        @switch (route) { @case ('login') {
        <div
          class="bg"
          [ngStyle]="{
            'background-image': 'url( ../../../../assets/images/login.jpg )'
          }"
        ></div>
        } @case ('otp') {
        <div
          class="bg"
          [ngStyle]="{
            'background-image': 'url( ../../../../assets/images/otp.jpg )'
          }"
        ></div>
        } @case ('user-detail') {
        <div
          class="bg"
          [ngStyle]="{
            'background-image': 'url( ../../../../assets/images/name.jpg )'
          }"
        ></div>
        }}
      </div>
      <div class="col-6">
        <div class="bg_white row g-0">
          <div
            class="col-12 d-flex justify-content-center"
            style="height: max-content"
          >
            <div class="pt-5" style="cursor: pointer">
              <img
                width="300"
                src="assets\images\logo.png"
                alt=""
                routerLink=""
              />
            </div>
          </div>
          <div class="col-12 d-flex justify-content-center">
            <div class="form">
              <h1>Let's Get Started</h1>
              @switch(route){ @case( 'login'){
              <span>Enter your phone number (required)</span>
              <form nz-form [formGroup]="LoginForm" (ngSubmit)="submitForm()">
                <nz-form-item>
                  <nz-form-control nzErrorTip="Country is required">
                    <nz-select
                      nzAllowClear
                      nzShowSearch
                      formControlName="country"
                      nzPlaceHolder="Select your country"
                    >
                      <nz-option
                        *ngFor="let item of countryList"
                        [nzValue]="item?.CCode"
                        [nzLabel]="item?.CountryName + ' ' + item?.CCode"
                      ></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-control [nzErrorTip]="combineTpl">
                    <input
                      nz-input
                      formControlName="phoneNo"
                      placeholder="Enter your phone no."
                      name="mix"
                      minlength="10"
                      maxlength="10"
                      pattern="[0-9]*"
                      required
                    />
                    <ng-template #combineTpl let-control>
                      @if (control.errors?.['pattern']) { Enter your valid
                      number } @if(control.errors?.['minlength'] &&
                      !control.errors?.['pattern']) {10 digit required}
                      @if(control.errors?.['required']) { Phone no. is required
                      }
                    </ng-template>
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-control>
                    <button
                      class="btn btn-primary d-flex align-items-center justify-content-center"
                    >
                      Next @if(spinner){
                      <span
                        class="spinner-grow spinner-grow-sm ms-2"
                        aria-hidden="true"
                      ></span>
                      }
                    </button>
                  </nz-form-control>
                </nz-form-item>
              </form>
              } @case ('otp') {
              <div class="alert alert-info alert-dismissible show" role="alert">
                {{ message }}
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
              <span
                >Enter the code sent to
                <strong>{{ code }} {{ phoneNo }}</strong> (required)</span
              >
              <form nz-form [formGroup]="otpForm" (ngSubmit)="submitForm()">
                <nz-form-item>
                  <nz-form-control [nzErrorTip]="combineTpl">
                    <input
                      nz-input
                      formControlName="otp"
                      placeholder="Enter the code"
                      required
                    />
                    <ng-template #combineTpl let-control>
                      @if(control.errors?.['required']) { Enter the code }
                    </ng-template>
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-control>
                    <button
                      class="btn btn-primary d-flex align-items-center justify-content-center"
                    >
                      Next @if(spinner){
                      <span
                        class="spinner-grow spinner-grow-sm ms-2"
                        aria-hidden="true"
                      ></span>
                      }
                    </button>
                  </nz-form-control>
                </nz-form-item>
              </form>
              } @case ('user-detail') {
              <span>Full name (required)</span>
              <form
                nz-form
                [formGroup]="userDetailForm"
                (ngSubmit)="submitForm()"
              >
                <nz-form-item>
                  <nz-form-control nzErrorTip="First name is required">
                    <input
                      nz-input
                      formControlName="firstName"
                      placeholder="Enter your first name"
                      type="text"
                    />
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-control nzErrorTip="First name is required">
                    <input
                      nz-input
                      formControlName="lastName"
                      placeholder="Enter your last name"
                      type="text"
                    />
                  </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                  <nz-form-control>
                    <button
                      class="btn btn-primary d-flex align-items-center justify-content-center"
                    >
                      Next @if(spinner){
                      <span
                        class="spinner-grow spinner-grow-sm ms-2"
                        aria-hidden="true"
                      ></span>
                      }
                    </button>
                  </nz-form-control>
                </nz-form-item>
              </form>
              } }
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
